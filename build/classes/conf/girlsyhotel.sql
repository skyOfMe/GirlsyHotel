/*
SQLyog Ultimate v11.27 (32 bit)
MySQL - 5.5.15 : Database - girlsyhotel
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`girlsyhotel` /*!40100 DEFAULT CHARACTER SET latin1 */;

USE `girlsyhotel`;

/*Table structure for table `auth` */

DROP TABLE IF EXISTS `auth`;

CREATE TABLE `auth` (
  `authId` int(11) NOT NULL AUTO_INCREMENT,
  `authName` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`authId`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8;

/*Data for the table `auth` */

insert  into `auth`(`authId`,`authName`) values (1,'otherAuthEmp'),(4,'selectEmp'),(5,'otherAuthRoomType'),(6,'selectRoomType'),(7,'addOrd'),(8,'updateOrd'),(9,'selectOrd'),(12,'otherAuthRoom'),(13,'selectRoom'),(14,'selectAllLog');

/*Table structure for table `authtodep` */

DROP TABLE IF EXISTS `authtodep`;

CREATE TABLE `authtodep` (
  `authId` int(11) NOT NULL,
  `depId` int(11) DEFAULT NULL,
  KEY `authId` (`authId`),
  KEY `depId` (`depId`),
  CONSTRAINT `authtodep_ibfk_1` FOREIGN KEY (`authId`) REFERENCES `auth` (`authId`),
  CONSTRAINT `authtodep_ibfk_2` FOREIGN KEY (`depId`) REFERENCES `dep` (`depId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*Data for the table `authtodep` */

insert  into `authtodep`(`authId`,`depId`) values (4,1),(4,2),(4,3),(4,4),(1,1),(5,1),(6,1),(6,2),(7,2),(8,2),(9,2),(9,1),(12,1),(12,2),(13,1),(13,2),(14,1);

/*Table structure for table `cus` */

DROP TABLE IF EXISTS `cus`;

CREATE TABLE `cus` (
  `cusId` int(11) NOT NULL AUTO_INCREMENT,
  `cusName` varchar(50) DEFAULT NULL,
  `cusCid` varchar(50) DEFAULT '111111222233336654',
  PRIMARY KEY (`cusId`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8;

/*Data for the table `cus` */

insert  into `cus`(`cusId`,`cusName`,`cusCid`) values (1,'张三','111111222233336654'),(2,'张四','11111122223333'),(3,'张武','111111222233336654'),(5,'张琪','111111222233336654'),(6,'张八','111111222233336654'),(7,'张就','111111222233336654'),(9,'12','123456'),(10,'xzc','123456789123456789');

/*Table structure for table `dep` */

DROP TABLE IF EXISTS `dep`;

CREATE TABLE `dep` (
  `depId` int(11) NOT NULL AUTO_INCREMENT,
  `depName` varchar(100) NOT NULL,
  PRIMARY KEY (`depId`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

/*Data for the table `dep` */

insert  into `dep`(`depId`,`depName`) values (1,'总经理'),(2,'收银员'),(3,'清洁工'),(4,'保安');

/*Table structure for table `emp` */

DROP TABLE IF EXISTS `emp`;

CREATE TABLE `emp` (
  `empId` int(11) NOT NULL AUTO_INCREMENT,
  `empName` varchar(255) NOT NULL,
  `empPwd` varchar(255) DEFAULT '123456',
  `depId` int(11) NOT NULL,
  `empAge` tinyint(4) DEFAULT NULL,
  `empDate` date DEFAULT NULL,
  `empSal` int(11) DEFAULT NULL,
  `empSex` varchar(10) DEFAULT NULL,
  `empTel` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`empId`),
  KEY `fk_emp_dep` (`depId`),
  CONSTRAINT `fk_emp_dep` FOREIGN KEY (`depId`) REFERENCES `dep` (`depId`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;

/*Data for the table `emp` */

insert  into `emp`(`empId`,`empName`,`empPwd`,`depId`,`empAge`,`empDate`,`empSal`,`empSex`,`empTel`) values (1,'王总','1234567',1,45,'2017-12-25',8000,'男','17744445555'),(2,'小李','123456',2,20,'2017-09-21',2000,'女','14433336666'),(4,'钱姐','123456',3,40,'2017-12-06',1500,'女','12288889999'),(5,'老周','123456',4,40,'2017-12-25',1500,'男','17766662222'),(6,'张雯','123456',2,18,'2018-01-01',10000,'女','17744445578');

/*Table structure for table `log` */

DROP TABLE IF EXISTS `log`;

CREATE TABLE `log` (
  `logId` int(11) NOT NULL AUTO_INCREMENT,
  `empId` int(11) DEFAULT NULL,
  `ope` varchar(500) DEFAULT NULL,
  `opeTime` datetime DEFAULT NULL,
  PRIMARY KEY (`logId`),
  KEY `fk_emp_log` (`empId`),
  CONSTRAINT `fk_emp_log` FOREIGN KEY (`empId`) REFERENCES `emp` (`empId`)
) ENGINE=InnoDB AUTO_INCREMENT=46 DEFAULT CHARSET=utf8;

/*Data for the table `log` */

insert  into `log`(`logId`,`empId`,`ope`,`opeTime`) values (1,1,'把[员工]【删除】了：[员工号]为3,[员工姓名]是小赵，[工资]是2000元，[电话]是16622224444，[入职日期]为2017-12-29，[所属部门]为收银员，[部门编号]是2','2018-01-01 01:07:14'),(2,1,'把[员工]【增加】了：[员工号]为0,[员工姓名]是张雯，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为收银员，[部门编号]是2','2018-01-01 01:07:59'),(3,1,'把[员工]【增加】了：[员工号]为6,[员工姓名]是王总经理，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为总经理，[部门编号]是1','2018-01-01 01:09:50'),(4,1,'把[员工]【增加】了：[员工号]为0,[员工姓名]是王总，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为总经理，[部门编号]是1','2018-01-01 01:15:42'),(5,1,'把[员工]【删除】了：[员工号]为6,[员工姓名]是王总经理，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为总经理，[部门编号]是1','2018-01-01 01:24:14'),(6,1,'把[员工]【删除】了：[员工号]为7,[员工姓名]是王总，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为总经理，[部门编号]是1','2018-01-01 01:24:18'),(7,1,'把[员工]【增加】了：[员工号]为0,[员工姓名]是王总经理，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为总经理，[部门编号]是1','2018-01-01 01:24:28'),(8,1,'把[员工]【增加】了：[员工号]为6,[员工姓名]是张雯，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为收银员，[部门编号]是2','2018-01-01 01:24:43'),(9,1,'把[员工]【增加】了：[员工号]为7,[员工姓名]是张雯，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为收银员，[部门编号]是2','2018-01-01 01:35:43'),(10,1,'把[员工]【删除】了：[员工号]为7,[员工姓名]是张雯，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为收银员，[部门编号]是2','2018-01-02 08:21:24'),(11,1,'把[员工]【删除】了：[员工号]为8,[员工姓名]是张雯，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为收银员，[部门编号]是2','2018-01-02 08:21:27'),(12,1,'把[员工]【增加】了：[员工号]为0,[员工姓名]是，[工资]是0元，[电话]是，[入职日期]为null，[所属部门]为总经理，[部门编号]是1','2018-01-02 08:25:36'),(13,1,'把[员工]【删除】了：[员工号]为7,[员工姓名]是，[工资]是0元，[电话]是，[入职日期]为null，[所属部门]为总经理，[部门编号]是1','2018-01-02 08:25:43'),(14,2,'把[员工]【删除】了：[员工号]为6,[员工姓名]是王总经理，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为总经理，[部门编号]是1','2018-01-02 08:27:51'),(15,2,'把[员工]【修改】了：[员工号]为1,[员工姓名]是王总经理，[工资]是8000元，[电话]是17744445555，[入职日期]为2017-12-25，[所属部门]为总经理，[部门编号]是1','2018-01-02 08:27:57'),(16,2,'把[员工]【增加】了：[员工号]为1,[员工姓名]是张雯，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为收银员，[部门编号]是2','2018-01-02 08:28:13'),(17,2,'把[订单]【修改】了：[订单号]为3号,[入住的客户]是张四，[身份证]是111111222233336654，[客户编号]是2号，[入住日期]为2017-12-25 ，[退房日期]为2017-12-26 ，[房间号]是201,[当日价格]为310.07元,[总天数]为1天，[总价格]为310.07元，[订单状态]是取消','2018-01-02 08:31:57'),(18,2,'把[订单]【修改】了：[订单号]为3号,[入住的客户]是张四，[身份证]是111111222233336654，[客户编号]是2号，[入住日期]为2017-12-25 ，[退房日期]为2017-12-26 ，[房间号]是201,[当日价格]为310.07元,[总天数]为1天，[总价格]为310.07元，[订单状态]是取消','2018-01-02 08:32:03'),(19,2,'把[订单]【修改】了：[订单号]为3号,[入住的客户]是张四，[身份证]是111111222233336654，[客户编号]是2号，[入住日期]为2017-12-25 ，[退房日期]为2017-12-28 ，[房间号]是201,[当日价格]为310.07元,[总天数]为3天，[总价格]为930.21元，[订单状态]是取消','2018-01-02 08:32:08'),(20,2,'把[订单]【修改】了：[订单号]为3号,[入住的客户]是张四，[身份证]是111111222233336654，[客户编号]是2号，[入住日期]为2017-12-25 ，[退房日期]为2017-12-28 ，[房间号]是201,[当日价格]为310.07元,[总天数]为3天，[总价格]为930.21元，[订单状态]是取消','2018-01-02 08:32:17'),(21,2,'把[订单]【修改】了：[订单号]为3号,[入住的客户]是张四，[身份证]是111111222233336654，[客户编号]是2号，[入住日期]为2017-12-25 ，[退房日期]为2017-12-28 ，[房间号]是201,[当日价格]为310.07元,[总天数]为3天，[总价格]为930.21元，[订单状态]是已退','2018-01-02 08:32:26'),(22,2,'把[订单]【修改】了：[订单号]为3号,[入住的客户]是张四，[身份证]是111111222233336654，[客户编号]是2号，[入住日期]为2017-12-25 ，[退房日期]为2017-12-28 ，[房间号]是201,[当日价格]为310.07元,[总天数]为3天，[总价格]为930.21元，[订单状态]是已退','2018-01-02 08:32:33'),(23,2,'把[订单]【修改】了：[订单号]为3号,[入住的客户]是张四，[身份证]是111111222233336654，[客户编号]是2号，[入住日期]为2017-12-25 ，[退房日期]为2017-12-28 ，[房间号]是201,[当日价格]为310.07元,[总天数]为3天，[总价格]为930.21元，[订单状态]是已退','2018-01-02 08:32:40'),(24,2,'把[订单]【增加】了：[订单号]为4号,[入住的客户]是12，[身份证]是123456，[客户编号]是9号，[入住日期]为2018-01-11 ，[退房日期]为2018-01-12 ，[房间号]是101  ,[当日价格]为100.0元,[总天数]为1天，[总价格]为100.0元，[订单状态]是在住','2018-01-02 08:33:16'),(25,2,'把[订单]【增加】了：[订单号]为4号,[入住的客户]是12，[身份证]是123456，[客户编号]是9号，[入住日期]为2018-01-11 ，[退房日期]为2018-01-12 ，[房间号]是101  ,[当日价格]为100.0元,[总天数]为1天，[总价格]为100.0元，[订单状态]是在住','2018-01-02 08:33:16'),(26,2,'把[订单]【增加】了：[订单号]为6号,[入住的客户]是12，[身份证]是123456，[客户编号]是9号，[入住日期]为2018-01-11 ，[退房日期]为2018-01-12 ，[房间号]是504,[当日价格]为100.0元,[总天数]为1天，[总价格]为100.0元，[订单状态]是在住','2018-01-02 08:36:30'),(27,1,'把[客户]【修改】了：[客户姓名]是张三111，[身份证]是111111222233336654，[客户编号]是1','2018-01-02 08:48:22'),(28,1,'把[客户]【修改】了：[客户姓名]是张四，[身份证]是11111122223333，[客户编号]是2','2018-01-02 08:48:32'),(29,1,'把[客户]【删除】了：[客户姓名]是张世，[身份证]是111111222233336654，[客户编号]是8','2018-01-02 08:48:57'),(30,1,'把[客户]【修改】了：[客户姓名]是张四，[身份证]是11111122223333，[客户编号]是2','2018-01-02 08:49:57'),(31,1,'把[客户]【修改】了：[客户姓名]是张四，[身份证]是11111122223333，[客户编号]是2','2018-01-02 08:50:09'),(32,1,'把[客户]【修改】了：[客户姓名]是张四，[身份证]是11111122223333，[客户编号]是2','2018-01-02 08:50:53'),(33,1,'把[员工]【修改】了：[员工号]为6,[员工姓名]是张雯，[工资]是100000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为收银员，[部门编号]是2','2018-01-02 09:31:01'),(34,1,'把[员工]【删除】了：[员工号]为6,[员工姓名]是张雯，[工资]是100000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为收银员，[部门编号]是2','2018-01-02 09:31:25'),(35,1,'把[员工]【增加】了：[员工号]为6,[员工姓名]是张雯，[工资]是10000元，[电话]是17744445578，[入职日期]为2018-01-01，[所属部门]为收银员，[部门编号]是2','2018-01-02 09:31:40'),(36,2,'把[订单]【修改】了：[订单号]为1号,[入住的客户]是张三111，[身份证]是111111222233336654，[客户编号]是1号，[入住日期]为2017-12-07 ，[退房日期]为2017-12-11 ，[房间号]是101  ,[当日价格]为200.0元,[总天数]为4天，[总价格]为800.0元，[订单状态]是在住','2018-01-02 09:36:48'),(37,2,'把[订单]【修改】了：[订单号]为1号,[入住的客户]是张三111，[身份证]是111111222233336654，[客户编号]是1号，[入住日期]为2017-12-07 ，[退房日期]为2017-12-11 ，[房间号]是101  ,[当日价格]为20.67元,[总天数]为4天，[总价格]为82.68元，[订单状态]是在住','2018-01-02 09:37:04'),(38,2,'把[订单]【修改】了：[订单号]为1号,[入住的客户]是张三111，[身份证]是111111222233336654，[客户编号]是1号，[入住日期]为2017-12-07 ，[退房日期]为2017-12-11 ，[房间号]是101  ,[当日价格]为20.67元,[总天数]为4天，[总价格]为82.68元，[订单状态]是在住','2018-01-02 09:37:15'),(39,2,'把[订单]【修改】了：[订单号]为1号,[入住的客户]是张三111，[身份证]是111111222233336654，[客户编号]是1号，[入住日期]为2017-12-07 ，[退房日期]为2017-12-11 ，[房间号]是101  ,[当日价格]为20.67元,[总天数]为4天，[总价格]为82.68元，[订单状态]是在住','2018-01-02 09:37:17'),(40,2,'把[订单]【修改】了：[订单号]为1号,[入住的客户]是张三111，[身份证]是111111222233336654，[客户编号]是1号，[入住日期]为2017-12-07 ，[退房日期]为2017-12-11 ，[房间号]是101  ,[当日价格]为20.67元,[总天数]为4天，[总价格]为82.68元，[订单状态]是在住','2018-01-02 09:37:19'),(41,2,'把[订单]【修改】了：[订单号]为1号,[入住的客户]是张三111，[身份证]是111111222233336654，[客户编号]是1号，[入住日期]为2017-12-07 ，[退房日期]为2017-12-11 ，[房间号]是101  ,[当日价格]为20.67元,[总天数]为4天，[总价格]为82.68元，[订单状态]是在住','2018-01-02 09:37:32'),(42,2,'把[订单]【修改】了：[订单号]为1号,[入住的客户]是张三111，[身份证]是111111222233336654，[客户编号]是1号，[入住日期]为2017-12-07 ，[退房日期]为2017-12-11 ，[房间号]是101  ,[当日价格]为20.67元,[总天数]为4天，[总价格]为82.68元，[订单状态]是在住','2018-01-02 09:37:38'),(43,2,'把[客户]【修改】了：[客户姓名]是张三，[身份证]是111111222233336654，[客户编号]是1','2018-01-02 09:41:23'),(44,2,'把[客户]【删除】了：[客户姓名]是张陆，[身份证]是111111222233336654，[客户编号]是4','2018-01-02 09:41:44'),(45,2,'把[订单]【增加】了：[订单号]为7号,[入住的客户]是xzc，[身份证]是123456789123456789，[客户编号]是10号，[入住日期]为2018-01-01 ，[退房日期]为2018-01-02 ，[房间号]是201,[当日价格]为150.0元,[总天数]为1天，[总价格]为150.0元，[订单状态]是在住','2018-01-02 09:43:40');

/*Table structure for table `ord` */

DROP TABLE IF EXISTS `ord`;

CREATE TABLE `ord` (
  `ordId` int(11) NOT NULL AUTO_INCREMENT,
  `cusId` int(11) DEFAULT NULL,
  `rmDayPrice` double(10,2) DEFAULT NULL,
  `rmId` int(11) DEFAULT NULL,
  `inDate` date DEFAULT NULL,
  `outDate` date DEFAULT NULL,
  `ordState` varchar(11) DEFAULT NULL,
  PRIMARY KEY (`ordId`),
  KEY `fk_cus_ord` (`cusId`),
  KEY `fk_rm_ord` (`rmId`),
  CONSTRAINT `fk_cus_ord` FOREIGN KEY (`cusId`) REFERENCES `cus` (`cusId`),
  CONSTRAINT `fk_rm_ord` FOREIGN KEY (`rmId`) REFERENCES `room` (`rmId`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;

/*Data for the table `ord` */

insert  into `ord`(`ordId`,`cusId`,`rmDayPrice`,`rmId`,`inDate`,`outDate`,`ordState`) values (1,1,20.67,1,'2017-12-07','2017-12-11','在住'),(2,2,200.00,2,'2017-12-25','2017-12-26','已退'),(3,2,310.07,2,'2017-12-25','2017-12-28','已退'),(4,9,100.00,1,'2018-01-11','2018-01-12','在住'),(6,9,100.00,5,'2018-01-11','2018-01-12','已退'),(7,10,150.00,2,'2018-01-01','2018-01-02','在住');

/*Table structure for table `room` */

DROP TABLE IF EXISTS `room`;

CREATE TABLE `room` (
  `rmId` int(11) NOT NULL AUTO_INCREMENT,
  `rmName` varchar(255) DEFAULT NULL,
  `rmPrice` double(255,2) DEFAULT NULL,
  `rmtpId` int(11) DEFAULT NULL,
  `rmState` varchar(11) DEFAULT '',
  PRIMARY KEY (`rmId`),
  KEY `fk_rm_rmtp` (`rmtpId`),
  CONSTRAINT `fk_rm_rmtp` FOREIGN KEY (`rmtpId`) REFERENCES `roomtype` (`rmtpId`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8;

/*Data for the table `room` */

insert  into `room`(`rmId`,`rmName`,`rmPrice`,`rmtpId`,`rmState`) values (1,'101  ',120.00,1,'在住'),(2,'201',150.00,2,'在住'),(3,'303',200.00,3,'在住'),(4,'406',300.00,4,'在住'),(5,'504',250.00,5,'在住'),(7,'666',250.00,5,'空房'),(8,'888',250.00,5,'空房'),(9,'222 ',300.00,5,'空房');

/*Table structure for table `roomtype` */

DROP TABLE IF EXISTS `roomtype`;

CREATE TABLE `roomtype` (
  `rmtpId` int(11) NOT NULL AUTO_INCREMENT,
  `rmtpName` varchar(100) DEFAULT NULL,
  `rmtpInitPrice` double(10,2) DEFAULT NULL,
  `rmtpPic` varchar(500) DEFAULT NULL,
  PRIMARY KEY (`rmtpId`)
) ENGINE=InnoDB AUTO_INCREMENT=46 DEFAULT CHARSET=utf8;

/*Data for the table `roomtype` */

insert  into `roomtype`(`rmtpId`,`rmtpName`,`rmtpInitPrice`,`rmtpPic`) values (1,'单人标间',120.00,'1__0__.jpg 1__1__.jpg 1__2__.jpg 1__3__.jpg 1__4__.jpg '),(2,'双人标间',150.00,'2__0__.jpg 2__1__.jpg 2__2__.jpg 2__3__.jpg 2__4__.jpg '),(3,'单人豪华',200.00,'3__0__.jpg 3__1__.jpg 3__2__.jpg 3__3__.jpg 3__4__.jpg '),(4,'双人豪华',300.00,'4__0__.jpg 4__1__.jpg 4__2__.jpg 4__3__.jpg 4__4__.jpg '),(5,'家庭房',200.00,'5__0__.jpg 5__1__.jpg 5__2__.jpg 5__3__.jpg 5__4__.jpg ');

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
